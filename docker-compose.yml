version: '3.8'

services:
  cooklang-store:
    build: .
    container_name: cooklang-store
    ports:
      - "3000:3000"
    volumes:
      - ./recipes:/recipes
    environment:
      - RUST_LOG=info
      # Storage backend: 'disk' (default) or 'git'
      # - disk: Direct filesystem storage (simple, no version history)
      # - git: Git repository with automatic commits (version control, branching)
      - COOKLANG_STORAGE_TYPE=${COOKLANG_STORAGE_TYPE:-disk}
      - JWT_SECRET=${JWT_SECRET:-change-me-in-production}
    restart: unless-stopped
