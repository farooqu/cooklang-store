services:
  cooklang-store:
    image: farooqu/cooklang-store:latest
    container_name: cooklang-store
    ports:
      - "3000:3000"
    volumes:
      - ./recipes:/recipes
    environment:
      - RUST_LOG=info
      # Storage backend: 'disk' (default) or 'git'
      # - disk: Direct filesystem storage (simple, no version history)
      # - git: Git repository with automatic commits (version control, branching)
      - STORAGE_TYPE=${STORAGE_TYPE:-disk}
      - JWT_SECRET=${JWT_SECRET:-change-me-in-production}
    restart: unless-stopped
